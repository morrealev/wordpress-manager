# Roadmap v1.8.0 — v2.1.0: WooCommerce, Multisite, CI/CD, Monitoring

**Data:** 2026-02-28
**Stato:** Approvato
**Baseline:** v1.7.2 (24 skill, 8 agent, ~175 MCP tools, 12 detection scripts)

---

## Approccio

Release incrementali — ogni feature e una minor release indipendente, dalla piu autocontenuta alla piu complessa. Questo permette testing e pubblicazione progressiva.

| Release | Feature | Complessita |
|---------|---------|-------------|
| v1.8.0 | WooCommerce | Alta (nuovi MCP tools + skill + agent) |
| v1.9.0 | Multisite | Media (skill + MCP tools, no agent nuovo) |
| v2.0.0 | CI/CD | Media (agent + skill, no MCP tools) |
| v2.1.0 | Monitoring | Alta (agent + skill, orchestrazione multi-check) |

---

## v1.8.0 — WooCommerce

### Contesto

WooCommerce usa il namespace REST `/wc/v3/` (separato da `/wp/v2/`). Richiede autenticazione propria (Consumer Key + Consumer Secret). Target: siti futuri e siti clienti/terzi.

### Componenti

| Tipo | Nome | Descrizione |
|------|------|-------------|
| Skill | `wp-woocommerce` | Prodotti, ordini, analytics, coupon, impostazioni |
| Agent | `wp-ecommerce-manager` | Gestione operativa negozio (color: orange) |
| MCP Tools | 6 file TypeScript | ~30 nuovi tool nel WP REST Bridge |
| Detection | `woocommerce_inspect.mjs` | Rileva WooCommerce, versione, estensioni |

### WP REST Bridge — Nuovi Tool

| File | Categoria | Tool | Endpoint |
|------|-----------|------|----------|
| `wc-products.ts` | Prodotti | 7 | CRUD prodotti, variazioni, categorie, tag, attributi |
| `wc-orders.ts` | Ordini | 6 | Lista, dettaglio, aggiorna stato, note, refund |
| `wc-customers.ts` | Clienti | 4 | Lista, dettaglio, ordini cliente, totale speso |
| `wc-coupons.ts` | Coupon | 4 | CRUD coupon, validazione |
| `wc-reports.ts` | Report | 5 | Vendite, top prodotti, top categorie, revenue |
| `wc-settings.ts` | Impostazioni | 4 | Valuta, tasse, spedizione, pagamenti |

### Autenticazione

Estensione di `WP_SITES_CONFIG` con campi opzionali:

```json
{
  "id": "myshop",
  "url": "https://myshop.com",
  "username": "admin",
  "password": "xxxx xxxx xxxx xxxx",
  "wc_consumer_key": "ck_xxxx",
  "wc_consumer_secret": "cs_xxxx"
}
```

Se `wc_consumer_key` e assente, i tool WooCommerce non sono disponibili per quel sito. Il server TypeScript crea un secondo AxiosInstance per `/wc/v3/` con Basic Auth (consumer_key:consumer_secret).

### Skill Reference Files (8)

| File | Contenuto |
|------|-----------|
| `product-management.md` | CRUD prodotti, variazioni, bulk operations |
| `order-workflow.md` | Ciclo di vita ordine, stati, transizioni |
| `analytics-reports.md` | Report vendite, metriche chiave, date range |
| `coupon-marketing.md` | Strategie coupon, condizioni, limiti |
| `shipping-setup.md` | Zone spedizione, metodi, classi |
| `payment-gateways.md` | Configurazione gateway, test mode |
| `tax-configuration.md` | Tasse per paese, classi fiscali |
| `wc-extensions.md` | Estensioni comuni, compatibilita |

### Agent `wp-ecommerce-manager`

- Color: orange
- Tools: Read, Grep, Glob, Bash, WebFetch, WebSearch
- Procedure: gestione catalogo, monitoraggio ordini, report vendite, setup negozio, troubleshooting
- Safety: conferma prima di modificare ordini, non cancellare prodotti senza backup, verifica stock prima di aggiornamenti bulk

### Router

Step 2b (operations):
```
"prodotto, ordine, WooCommerce, negozio, coupon, vendite, catalogo, inventario"
  → wp-woocommerce skill + wp-ecommerce-manager agent
```

### Modifiche al Server TypeScript

- `types.ts`: aggiungere tipo `WooCommerceConfig` e estendere `SiteConfig`
- `wordpress.ts`: creare `wcClientMap: Map<siteId, AxiosInstance>` per richieste WC
- `tools/index.ts`: importare e registrare i 6 nuovi file tool

---

## v1.9.0 — Multisite

### Contesto

WordPress Multisite usa le stesse REST API ma richiede utente Super Admin. Nessun agent nuovo — il `wp-site-manager` viene esteso.

### Componenti

| Tipo | Nome | Descrizione |
|------|------|-------------|
| Skill | `wp-multisite` | Network admin, site management, domain mapping |
| Agent | — | Estensione di `wp-site-manager` |
| MCP Tools | 2 file TypeScript | ~10 nuovi tool |
| Detection | `multisite_inspect.mjs` | Rileva multisite, sub-siti, network admin |

### WP REST Bridge — Nuovi Tool

| File | Categoria | Tool | Endpoint |
|------|-----------|------|----------|
| `multisite-sites.ts` | Siti network | 5 | Lista, crea, attiva/disattiva, elimina, dettaglio |
| `multisite-network.ts` | Network admin | 5 | Plugin/temi network, utenti network, impostazioni |

I tool verificano automaticamente che l'utente sia Super Admin prima di eseguire operazioni network.

### Skill Reference Files (6)

| File | Contenuto |
|------|-----------|
| `network-setup.md` | Installazione multisite, sub-directory vs sub-domain |
| `site-management.md` | CRUD sub-siti, template, clonazione |
| `domain-mapping.md` | Domini personalizzati, SSL per sub-siti |
| `network-plugins.md` | Plugin network-activated vs per-sito |
| `user-roles.md` | Super Admin, site roles, capabilities |
| `migration-multisite.md` | Single → multisite e viceversa |

### Router

Step 2b (operations):
```
"multisite, network, sub-sito, domain mapping, super admin"
  → wp-multisite skill + wp-site-manager agent
```

### Aggiornamento `wp-site-manager`

Aggiungere sezione "## Multisite Network Management" con procedure per lista sub-siti, creazione, plugin network-wide, domain mapping.

---

## v2.0.0 — CI/CD

### Contesto

Agent e skill per pipeline CI/CD WordPress. Supporto multi-piattaforma (GitHub Actions, GitLab CI, Bitbucket Pipelines). Nessun nuovo MCP tool — usa Bash, Read, Write.

### Componenti

| Tipo | Nome | Descrizione |
|------|------|-------------|
| Skill | `wp-cicd` | Pipeline CI/CD per WordPress multi-piattaforma |
| Agent | `wp-cicd-engineer` | Configura e gestisce pipeline (color: cyan) |
| Detection | `cicd_inspect.mjs` | Rileva CI config, workflow, secret |

### Piattaforme

| Piattaforma | Config | Template |
|-------------|--------|----------|
| GitHub Actions | `.github/workflows/*.yml` | PHP lint + PHPStan + Playwright + deploy |
| GitLab CI | `.gitlab-ci.yml` | Pipeline multi-stage equivalente |
| Bitbucket Pipelines | `bitbucket-pipelines.yml` | Pipeline equivalente |

### Skill Reference Files (7)

| File | Contenuto |
|------|-----------|
| `github-actions-wordpress.md` | Workflow completi per WP |
| `gitlab-ci-wordpress.md` | Pipeline GitLab |
| `bitbucket-pipelines-wordpress.md` | Pipeline Bitbucket |
| `wp-env-ci.md` | Setup wp-env in CI per test E2E |
| `deploy-strategies.md` | Blue-green, rolling, canary per WP |
| `secrets-management.md` | SSH keys, API tokens, env vars sicure |
| `quality-gates.md` | PHPStan, PHPCS, coverage threshold |

### Agent `wp-cicd-engineer`

- Color: cyan
- Tools: Read, Grep, Glob, Bash, Write, WebFetch, WebSearch
- Procedure: detect CI, generate pipeline, configure secrets, quality gates, deploy stage, troubleshoot
- Safety: non eseguire deploy da CI senza approvazione, non esporre secret in log, validare YAML prima di commit

### Router

Step 2a (development):
```
"CI, CD, pipeline, GitHub Actions, GitLab CI, deploy automatico, workflow, quality gate"
  → wp-cicd skill + wp-cicd-engineer agent
```

### Cross-references

- `wp-e2e-testing` → "Per integrazione CI, vedi `wp-cicd`"
- `wp-deploy` → "Per deploy automatici, vedi `wp-cicd`"
- `wp-phpstan` → "Per quality gates, vedi `wp-cicd`"

---

## v2.1.0 — Monitoring

### Contesto

Agent e skill per monitoraggio unificato: uptime, performance, security, content integrity. Usa tool MCP esistenti + script Bash per metriche esterne.

### Componenti

| Tipo | Nome | Descrizione |
|------|------|-------------|
| Skill | `wp-monitoring` | Strategie monitoraggio WordPress |
| Agent | `wp-monitoring-agent` | Monitoraggio unificato (color: teal) |
| Detection | `monitoring_inspect.mjs` | Rileva monitoring esistente |

### Aree di Monitoraggio

| Area | Cosa | Come |
|------|------|------|
| Uptime | HTTP, SSL, response time | WP REST Bridge + health-check.sh |
| Performance | TTFB, CWV trends | Lighthouse CLI, WebFetch |
| Security | Plugin outdated, vulnerabilita, file integrity | list_plugins + security_inspect.mjs |
| Content | Modifiche non autorizzate, link rotti, spam | list_content + list_comments |

### Skill Reference Files (6)

| File | Contenuto |
|------|-----------|
| `uptime-checks.md` | HTTP probe, SSL monitoring, cron |
| `performance-baseline.md` | Baseline CWV, trend analysis |
| `security-scanning.md` | CVE check, file integrity, malware |
| `content-integrity.md` | Rilevamento modifiche, link checking |
| `alerting-strategies.md` | Soglie alert, escalation |
| `reporting-templates.md` | Template report giornaliero/settimanale |

### Agent `wp-monitoring-agent`

- Color: teal
- Tools: Read, Grep, Glob, Bash, WebFetch, WebSearch
- Procedure: baseline, uptime check, performance scan, security scan, content audit, generate report
- Report format: markdown strutturato con severity e raccomandazioni
- Safety: no modifiche al sito (solo lettura), segnala anomalie senza intervenire

### Router

Step 2b (operations):
```
"monitora, uptime, health report, trend, scansione periodica"
  → wp-monitoring skill + wp-monitoring-agent agent
```

### Cross-references

- `wp-audit` → "Per monitoraggio continuo, vedi `wp-monitoring`"
- `wp-security-auditor` → "Per scansioni periodiche, vedi `wp-monitoring-agent`"
- `wp-performance-optimizer` → "Per trend performance, vedi `wp-monitoring`"

---

## Riepilogo Finale

### Conteggi a fine roadmap

| Metrica | v1.7.2 (oggi) | v2.1.0 (target) | Delta |
|---------|---------------|-----------------|-------|
| Skills | 24 | 28 | +4 |
| Agents | 8 | 11 | +3 |
| MCP Tools | ~175 | ~215 | +40 |
| Detection scripts | 12 | 16 | +4 |
| Reference files | 106 | 133 | +27 |

### Ordine di Implementazione

```
v1.8.0 — WooCommerce
  1. Estensione types.ts e wordpress.ts per WC auth
  2. 6 file tool TypeScript (wc-products, wc-orders, wc-customers, wc-coupons, wc-reports, wc-settings)
  3. Detection script woocommerce_inspect.mjs
  4. Skill wp-woocommerce (SKILL.md + 8 reference files)
  5. Agent wp-ecommerce-manager.md
  6. Router update + cross-references
  7. Version bump + CHANGELOG + GUIDE.md
  8. Build, test, commit, publish npm + GitHub release

v1.9.0 — Multisite
  1. 2 file tool TypeScript (multisite-sites, multisite-network)
  2. Detection script multisite_inspect.mjs
  3. Skill wp-multisite (SKILL.md + 6 reference files)
  4. Aggiornamento wp-site-manager.md
  5. Router update + cross-references
  6. Version bump + CHANGELOG + GUIDE.md
  7. Build, test, commit, publish npm + GitHub release

v2.0.0 — CI/CD
  1. Detection script cicd_inspect.mjs
  2. Skill wp-cicd (SKILL.md + 7 reference files)
  3. Agent wp-cicd-engineer.md
  4. Router update + cross-references
  5. Version bump + CHANGELOG + GUIDE.md
  6. Commit, publish npm + GitHub release

v2.1.0 — Monitoring
  1. Detection script monitoring_inspect.mjs
  2. Skill wp-monitoring (SKILL.md + 6 reference files)
  3. Agent wp-monitoring-agent.md
  4. Router update + cross-references
  5. Version bump + CHANGELOG + GUIDE.md
  6. Commit, publish npm + GitHub release
```
